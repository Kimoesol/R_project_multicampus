install.packages('dplyr')
getwd()
a = full_join(a, sb_lib_list$달빛마루도서관[[3]],by=c("도서명","도서명"))
library(dplyr)
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
load("C:/codingstudy/R_semi_project/2018년 성북구 도서관별 대출목록.RData")
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
a = full_join(a, sb_lib_list$달빛마루도서관[[3]],by=c("도서명","도서명"))
View(a)
a = full_join(a, sb_lib_list$달빛마루도서관[[4]],by=c("도서명","도서명"))
a = full_join(a, sb_lib_list$달빛마루도서관[[5]],by=c("도서명","도서명"))
View()
View(a)
a %>% mutate("n월 대출건수"=a$대출건수.y-a$대출건수.x)
a %>% select(-2)
a %>% mutate("n월 대출건수"=a[,3]-a[,2])
a[,3]
a[,3]-a[,2]
head(a[,3]-a[,2])
a %>% mutate("n월 대출건수"=a[,3]-a[,2])
a %>% mutate("n월 대출건수"=a$대출건수.y-a$대출건수.x)
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
a %>% mutate("n월 대출건수"=a$대출건수.y-a$대출건수.x)
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
a %>% mutate("n월 대출건수"=a[,3]-a[,2])
a[,3]
a[,3]-a[,2]
head(a[,3]-a[,2],10)
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
a = a %>% mutate("n월 대출건수"=a$대출건수.y-a$대출건수.x)
a = a %>% select(-2)
View(a)
a = full_join(a, sb_lib_list$달빛마루도서관[[3]],by=c("도서명","도서명"))
View(a)
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
a = a %>% mutate("2월 대출건수"=a$대출건수.y-a$대출건수.x)
a = a %>% select(-2)
a = full_join(a, sb_lib_list$달빛마루도서관[[3]],by=c("도서명","도서명"))
View(a)
a = a %>% mutate("3월 대출건수"=a$대출건수-a$대출건수.y)
View(a)
a = a %>% select(-2)
View(a)
a = full_join(a, sb_lib_list$달빛마루도서관[[4]],by=c("도서명","도서명"))
View(a)
a = a %>% mutate("4월 대출건수"=a$대출건수.y-a$대출건수.x)
View(a)
a = a %>% select(-2)
a = full_join(sb_lib_list$달빛마루도서관[[1]],sb_lib_list$달빛마루도서관[[2]],by=c("도서명","도서명"))
a = a %>% mutate("2월 대출건수"=a$대출건수.y-a$대출건수.x)
a = a %>% select(-2)
a = full_join(a, sb_lib_list$달빛마루도서관[[3]],by=c("도서명","도서명"))
a = a %>% mutate("3월 대출건수"=a$대출건수-a$대출건수.y)
a = a %>% select(-2)
a = full_join(a, sb_lib_list$달빛마루도서관[[4]],by=c("도서명","도서명"))
a = a %>% mutate("4월 대출건수"=a$대출건수.y-a$대출건수.x)
a = a %>% select(-3)
a = full_join(a, sb_lib_list$달빛마루도서관[[5]],by=c("도서명","도서명"))
arrange(desc("대출건수"))
arrange(a, desc("대출건수"))
a %>% arrange(desc("대출건수"))
a %>% arrange(desc(대출건수))
a %>% arrange(desc(대출건수.y))
b = a %>% arrange(desc(대출건수.y))
View(b)
setwd("C:/Users/rladh/R_project_multicampus")
file_name = 'sb_lib_list2.rds'
sb_lib_list2 = readRDS(file_name)
library(dplyr)
# 2-1.
# 달빛마루도서관에서 2018년 02월에 대출건수가 0이 아닌 도서들 중에 대출건수 기준으로 내림차순
b = data.frame()
for (i in 1:11) {
a = sb_lib_list2[[i]][[1]] %>% filter(대출건수!=0) %>% arrange(desc(대출건수))
a$도서명 = as.character(a$도서명)
a$대출건수 = as.integer(a$대출건수)
b = c(b, a)
# d = c(d, as.data.frame(b[2*i-1], b[2*i]))
}
View(b)
head(b[1])
head(b[1],6)
head(b[[1]],6)
head(b[[3]],6)
list_data = list()
list_data[[1]] = c(b[[1]],b[[2]])
list_data
list_data = list()
list_data[[1]][[1]] = b[[1]]
list_data[[1]][1] = b[[1]]
list_data = list()
View(b)
list_data[[1]] = b[[1]]
b[[2]]
list_data[[2]] = b[[2]]
class(list_data[[2]])
list_data[[2]]
list_data[[1]]
list_data
length(b)
list_data = list()
for (i in length(b)) {
list_data[[i]] = b[[i]]
}
View(list_data)
list_data = list()
list_data[[1]] = b[[1]]
list_data[[1]]
list_data[[2]] = b[[2]]
list_data[[2]]
View(list_data)
list_data[[3]] = b[[3]]
list_data[[3]]
list_data[[4]] = b[[4]]
list_data[[4]]
View(list_data)
list_data = list()
for (i in length(b)) {
list_data[[i]] = b[[i]]
if i % 10 = 0 {
cat("i번째 출력중")
}
}
for (i in length(b)) {
list_data[[i]] = b[[i]]
if (i %% 10 = 0) {
cat("i번째 출력중")
}
}
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
if (i %% 10 = 0) {
cat("i번째 출력중")
}
}
length(b)
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
if (i %% 10 = 0) {
cat(i,"번째 출력중")
}
}
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 = 0) {
#   cat(i,"번째 출력중")
# }
}
View(list_data)
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
if (i %% 10 == 0) {
cat(i,"번째 출력중")
}
}
cat(i,"번째 출력중",'\n')
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
if (i %% 10 == 0) {
cat(i,"번째 출력중",'\n')
}
}
names(list_data)
for (i in 1:length(b)) {
names(list_data[[2*i-1]] = names(sb_lib_list2))
}
names(sb_lib_list2)
names(list_data[[1]]) = names(sb_lib_list2[[1]])
View(list_data)
list_data[[1]]
list_data = list()
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 == 0) {
#   cat(i,"번째 출력중",'\n')
# }
}
View(list_data)
head(list_data, 6)
names(list_data[[1]])
sb_lib_name = c(names(sb_lib_list2[[1]]))
class(sb_lib_name)
names(list_data[[1]]) = names(sb_lib_name[1])
View(list_data)
list_data[[1]]
names(list_data[[1]])
names(list_data[[1]]) = names(sb_lib_name[1])
names(list_data[[1]])
names(list_data) = names(sb_lib_name[1])
View(list_data)
names(list_data) = names(c(sb_lib_name[1],"대출건수", sb_lib_name[2],"대출건수", sb_lib_name[3], "대출건수",
sb_lib_name[4], "대출건수", sb_lib_name[5], "대출건수", sb_lib_name[6], "대출건수",
sb_lib_name[7], "대출건수", sb_lib_name[8], "대출건수", sb_lib_name[9], "대출건수",
sb_lib_name[10], "대출건수", sb_lib_name[11], "대출건수"))
View(list_data)
names(list_data)
names(list_data) = c(sb_lib_name[1],"대출건수", sb_lib_name[2],"대출건수", sb_lib_name[3], "대출건수",
sb_lib_name[4], "대출건수", sb_lib_name[5], "대출건수", sb_lib_name[6], "대출건수",
sb_lib_name[7], "대출건수", sb_lib_name[8], "대출건수", sb_lib_name[9], "대출건수",
sb_lib_name[10], "대출건수", sb_lib_name[11], "대출건수")
View(list_data)
class(names(sb_lib_list2))
View(names(sb_lib_list2))
names(list_data[[2*i-1]] = as.vector(names(sb_lib_list2)))
for (i in 1:length(b)) {
names(list_data[[2*i-1]] = as.vector(names(sb_lib_list2)))
}
for (i in 1:length(b)) {
names(list_data[[2*i-1]] = as.vector(names(sb_lib_list2)))[i]
}
i
as.vector(names(sb_lib_list2)))[2*i-1]
as.vector(names(sb_lib_list2)))
as.vector(names(sb_lib_list2))
for (i in 1:length(b)) {
names(list_data[[2*i-1]]) = as.vector(names(sb_lib_list2))[2*i-1]
}
for (i in 1:length(b)) {
if (i %% 2 == 1) {
names(list_data[[i]]) = as.vector(names(sb_lib_list2))[i]
}
}
View(list_data)
as.vector(names(sb_lib_list2))[1]
names(sb_lib_list2)
as.vector(names(sb_lib_list2))[[1]]
for (i in 1:length(b)) {
if (i %% 2 == 1) {
names(list_data[[i]]) = as.vector(names(sb_lib_list2))[[i]]
}
}
names(list_data[1])
View(list_data)
sb_lib_list2[[1]][[2]]
names(sb_lib_list2[[1]][[2]]
)
names(sb_lib_list2[[1]][[2]])
# 2-1.
# 달빛마루도서관에서 2018년 02월에 대출건수가 0이 아닌 도서들 중에 대출건수 기준으로 내림차순
b = data.frame()
for (i in 1:11) {
a = sb_lib_list2[[i]][[1]] %>% filter(대출건수!=0) %>% arrange(desc(대출건수))
a$도서명 = as.character(a$도서명)
a$대출건수 = as.integer(a$대출건수)
b = c(b, a)
# d = c(d, as.data.frame(b[2*i-1], b[2*i]))
}
View(b)
list_data = list()
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 == 0) {
#   cat(i,"번째 출력중",'\n')
# }
}
View(list_data)
class(b)
class(list_data)
as.vector(names(sb_lib_list2))[i]
i
for (i in 1:length(b)) {
if (i %% 2 == 1) {
names(list_data[[i]]) = as.vector(names(sb_lib_list2))[i]
}
}
View(list_data)
as.vector(names(sb_lib_list2))[i]
i = 1
as.vector(names(sb_lib_list2))[i]
list_data[[3]]
list_data = list()
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 == 0) {
#   cat(i,"번째 출력중",'\n')
# }
}
class(list_data)
list_data[[3]]
b[["도서명"]]
list_data = list()
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 == 0) {
#   cat(i,"번째 출력중",'\n')
# }
}
class(list_data)
b = data.frame()
# d = list()
for (i in 1:11) {
a = sb_lib_list2[[i]][[1]] %>% filter(대출건수!=0) %>% arrange(desc(대출건수))
a$도서명 = as.character(a$도서명)
a$대출건수 = as.integer(a$대출건수)
b = c(b, a)
# d = c(d, as.data.frame(b[2*i-1], b[2*i]))
}
View(b)
class(b)
list_data = list()
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 == 0) {
#   cat(i,"번째 출력중",'\n')
# }
}
class(list_data)
View(list_data)
g  = as.data.frame(list_data)
list_data[[1]]
g = as.data.frame( list_data[[1]], list_data[[2]] )
g
g = data.frame( list_data[[1]], list_data[[2]] )
g
gg = data.frame(list_data[[3]], list_data[[4]])
gg
bind_rows(g, gg)
names(b$도서명)
names(b$도서명) = as.vector(names(sb_lib_list2))
View(b)
for (i in 1:11) {
a = sb_lib_list2[[i]][[1]] %>% filter(대출건수!=0) %>% arrange(desc(대출건수))
a$도서명 = as.character(a$도서명)
a$대출건수 = as.integer(a$대출건수)
b = c(b, a)
# d = c(d, as.data.frame(b[2*i-1], b[2*i]))
}
View(b)
class(b)
b = data.frame()
for (i in 1:11) {
a = sb_lib_list2[[i]][[1]] %>% filter(대출건수!=0) %>% arrange(desc(대출건수))
a$도서명 = as.character(a$도서명)
a$대출건수 = as.integer(a$대출건수)
b = c(b, a)
# d = c(d, as.data.frame(b[2*i-1], b[2*i]))
}
View(b)
class(b)
as.vector(names(sb_lib_list2))[1]
names(b[[1]]) = as.character(names(sb_lib_list2))[1]
View(b)
b[["도서명"]]
b = data.frame()
# d = list()
for (i in 1:11) {
a = sb_lib_list2[[i]][[1]] %>% filter(대출건수!=0) %>% arrange(desc(대출건수))
a$도서명 = as.character(a$도서명)
a$대출건수 = as.integer(a$대출건수)
b = c(b, a)
# d = c(d, as.data.frame(b[2*i-1], b[2*i]))
}
View(b)
b[[1]]
b
list_data = list()
for (i in 1:length(b)) {
list_data[[i]] = b[[i]]
# if (i %% 10 == 0) {
#   cat(i,"번째 출력중",'\n')
# }
}
class(list_data)
View(list_data)
list_data
names(sb_lib_list2)
names(sb_lib_list2)[1]
class(names(sb_lib_list2)[1])
g = c()
for (i in length(names(sb_lib_list2))) {
g = c(g, names(sb_lib_list2)[i])
}
g
length(names(sb_lib_list2))
g = c()
for (i in 1:length(names(sb_lib_list2))) {
g = c(g, names(sb_lib_list2)[i])
}
g
length(g)
h = c()
for (i in 1:length(g)) {
h = c(h, g[i])
h = c(h, "대출건수")
}
h
names(list_data) = h
View(list_data)
for (i in 1:length(g)) {
h = c(h, g[i])
h = c(h, paste0(g[i],"대출건수"))
}
h
h = c()
for (i in 1:length(g)) {
h = c(h, g[i])
h = c(h, paste0(g[i],"대출건수"))
}
h
h = c(h, paste0(g[i]," ","대출건수"))
h = c()
for (i in 1:length(g)) {
h = c(h, g[i])
h = c(h, paste0(g[i]," ","대출건수"))
}
h
names(list_data) = h
h = c()
for (i in 1:length(g)) {
h = c(h, paste0(g[i]," ","도서명"))
h = c(h, paste0(g[i]," ","대출건수"))
}
h
View(list_data)
